# [聊聊微信和淘宝扫码登录背后的实现原理](https://mp.weixin.qq.com/s/LXIqpi-6PwUzy2jaRo_GlA)

1. 用户打开网页
   1. web端请求服务器，获取一个uuid和二维码.
   1. 服务器把二维码存进redis等缓存里。
   1. web端每秒请求一次服务器，看用户是否已经扫码，是否已经授权。
1. 用户扫码
    1. 根据扫码信息获得的地址，访问服务器，同时带上uuid。
    1. 服务器在redis等缓存里找到对应的uuid，修改缓存，返回网页信息给手机端，问用户是否同意授权。
    1. web端再次请求服务器的时候，服务器返回用户已经扫码，返回部分用户信息。web段继续每秒一次请求服务器。
1. 用户点击确认授权
    1. 手机端请求服务器，发送授权信息。
    1. web端再次请求服务器的时候，服务器返回更多用户信息和token，并返回用户已经授权登录。
    1. web端可以通过token向服务器申请自己需要的信息。

## 引用
>1. [第三方登录：微信扫码登录（OAuth2.0）](https://blog.csdn.net/weixin_30535043/article/details/95267971)
>1. [聊聊微信和淘宝扫码登录背后的实现原理](https://mp.weixin.qq.com/s/LXIqpi-6PwUzy2jaRo_GlA)
>1. [IM的扫码登录功能如何实现？一文搞懂主流的扫码登录技术原理](https://my.oschina.net/u/4231722/blog/3154805)