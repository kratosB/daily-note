# [Redis 与 MQ 的区别](https://www.cnblogs.com/dengguangxue/p/11537466.html)

1. redis可以当作mq用，但是消息队列的功能和逻辑，redis基本都没有，需要自己实现。
2. Redis 消息推送（基于分布式 pub/sub）多用于实时性较高的消息推送，并不保证可靠。
3. redis-pub/sub断电就清空，而使用redis-list作为消息推送虽然有持久化，但是也并非完全可靠不会丢。其他的mq和kafka保证可靠但有一些延迟（非实时系统没有保证延迟）。
4. redis 发布订阅除了表示不同的 topic 外，并不支持分组。其他MQ中，多个订阅者可以分组，同一个组里只有一个订阅者会收到该消息，而这个可以用作负载均衡。

## Redis发布订阅与rabbitmq的区别

1. 可靠性：
    1. redis：没有相应的机制保证消息的可靠消费。如果发布者发布一条消息，而没有对应的订阅者的话，这条消息将丢失，不会存在内存中。
    2. rabbitmq：具有消息消费确认机制。如果发布一条消息，还没有消费者消费该队列，那么这条消息将一直存放在队列中，直到有消费者消费了该条消息，以此可以保证消息的可靠消费。
2. 实时性：
    1. redis：实时性高，redis作为高效的缓存服务器，所有数据都存在内存中，所以它具有更高的实时性。
    2. rabbitmq：实时性也不差。
3. 消费者负载均衡：
    1. redis：redis发布订阅模式，是一种消息的广播形式，redis本身不做消费者的负载均衡。
    2. rabbitmq：可以广播，可以根据正则分发，一个queue绑定的多个消费者也可以平摊任务。
4. 持久性：
    1. redis：将整个redis实例持久化到磁盘，持久性的粒度太大。
    2. rabbitmq：队列，每条消息都可以选择性持久化，持久化粒度更小，更灵活。
5. 队列监控：
    1. redis：没有所谓的监控平台。
    2. rabbitmq：实现了后台监控平台，可以在该平台上看到所有创建的队列的详细情况，良好的后台管理平台可以方面我们更好的使用。
6. 性能：
    1. redis：入队时，数据小redis快，数据大redis慢。出队时，redis快多了。
    2. rabbitmq：与上面相反。（rabbitmq本来就是可靠性为主的吧）
7. 总结：
    1. redis：轻量级，低延迟，高并发，低可靠性。
    2. rabbitmq：重量级，高可靠，异步，不保证实时。
rabbitmq是一个专门的AMQP协议队列，他的优势就在于提供可靠的队列服务，并且可做到异步，而redis主要是用于缓存的，redis的发布订阅模块，可用于实现及时性，且可靠性低的功能。

## Redis发布订阅与ActiveMQ的比较

1. ActiveMQ支持多种消息协议，包括AMQP，MQTT，Stomp等，并且支持JMS规范，但Redis没有提供对这些协议的支持。
2. ActiveMQ提供持久化功能，但Redis无法对消息持久化存储，一旦消息被发送，如果没有订阅者接收，那么消息就会丢失。
3. ActiveMQ提供了消息传输保障，当客户端连接超时或事务回滚等情况发生时，消息会被重新发送给客户端，Redis没有提供消息传输保障。

ActiveMQ所提供的功能远比Redis发布订阅要复杂。

如果只需要基本的发布订阅功能，可以考虑使用Redis的发布订阅机制。