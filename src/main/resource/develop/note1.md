Situation Task action result

1. 通知模块  
   通知模块（短信，邮件等）的重构，新运营商的接入，以及邮件打开率统计。
   1. 重构通知模块
      1. S：因为要引入springboot和springCloud。 
      2. T：重构通知模块。
      3. A：1. 接入springboot和cloud（分两次），2. 引入jpa，3. 重构数据库部分（旧的数据库设计不合理，每次发送要插入好多数据，新的更简单/直观），4. 增加发送job和统计job。
      4. R：1. 模块上线，2. 发送异步处理，3. 读老代码（发送部分），学会模板方法模式，4. 更熟悉springboot和cloud。
   2. 接入腾讯云短信通道，实现多通道交替发送，以及短信的补发策略。
      1. S：因为金融行业监管，亿美有时候发短信会失败，所以需要开发一个新的通道做备用。
      2. T：接入腾讯云的通道。
      3. A：1. 接入新的通道，设计交替发送策略（根据配置中心做配比，有点类似加权轮询），job扫表补发（扫描发送失败，未补发，且不是补发短信的记录）
      4. R：1. 成功接入腾讯云通道，2. 实现多通道按比例交替发送，3. 短信发送失败实施补发。
   3. 实现场景发送功能，使调用方可以通过一个场景发送多种通知。
      1. S：现有的消息发送方式是“给消息服务发送一个请求，附带电话/邮箱地址，内容等信息，然后发送短信/邮件。如果要发多个短信/邮件，就得调用接口好几次”，产品想要实现一种“给消息服务发送一个请求，告诉它对应的场景和客户，消息服务自动获取客户的联系方式，通信方式（这个场景要发送邮件还是短信），然后发送消息。除此之外，产品还想要在可视化界面配置这些场景”。
      2. T：在通知模块中，增加一个场景管理/发送的模块，实现场景发送功能。
      3. A：1. 在短信/邮件/微信消息的上层，再抽象出一层场景，数据库设计表。2. 实现场景编辑功能。3. 实现场景发送（按编号找到对应场景，然后找到场景中的信息，循环发送）。
      4. R：1. 实现场景发送。
   4. 通过邮件埋点，实现打开率统计。
      1. S：领导想要了解我们的邮件到底有没有用，有没有人看，所以要统计一下打开率。
      2. T：1. 代码植入。2. 间谍像素。
      3. A：1. 在所有邮件的最后，增加一个间谍像素，附带一个id。2. 用户打开邮件的时候，访问间谍像素，用拦截器拦截这个请求，在数据库中更新打开情况。
      4. R：1. 部分邮箱实现功能。（部分有像会屏蔽间谍像素，例如腾讯邮箱）。2. 学到例如短链接转换的思想。
2. 微信公众平台  
   关联群星平台账号和用户微信账号，实现微信端登录，通知推送等功能。具体如下：
   1. 实现微信菜单，基于Oauth2.0的微信网页授权及页面重定向。
   2. 微信账号和平台账号的整合关联。
   3. 微信消息处理（自动回复和通知推送）。
3. SpringCloud组件（Zuul网关，配置中心）
   实现了两个SpringCloud组件。Zuul网关，为后端微服务提供了路由和过滤器的功能。配置中心，实现微服务配置集中管理，为多环境下微服务打包部署提供便利。具体如下：
   1. 实现Zuul反向代理和Ribbon负载均衡。
   2. 通过ZuulFilter过滤器，实现请求的鉴权，过滤，以及错误统一处理等功能。
   3. 实现SpringCloud Config配置中心。
   4. 实现配置中心加密/解密。
   5. 通过Git的Webhook和SpringCloud Bus实现了配置热部署。
   6. 实现区分环境（开发环境/测试环境/正式环境）的配置仓库管理方案。
4. 用户/客户模块
   用户/客户模块基础功能的开发及维护。具体如下：
   1. 微服务重构成SpringBoot项目，并接入SpringCloud。
   2. 通过redis，实现数据库查询缓存。
   3. Mysql查询优化。
   4. 新业务功能开发。
5. 后台服务AWS改造迁移
   将老的微服务迁移到亚马逊的AWS上，并让服务能够正确运行。具体如下：
   1. EC2，Beanstalk等AWS组件的配置部署。
   2. 针对老微服务的AWS版本改造迁移。
   3. 实现S3文件存储。
   4. 实现AWS日志挂载。
6. 公共服务模块
   整合了许多基础功能，供其他微服务调用。具体如下：
   1. 票据处理（调用第三方识别发票，订单等票据）
   2. 附件管理。
   3. 验证码管理。
   4. 通过redis实现长短链接转换。
















++++点赞+++附近的人，点赞可以参考Mysql实战45里面的15的业务设计问题。




点赞系统，延伸到附近的人和互相关注方面

组团

jwt

f1-2，延伸到缓存的不同配置

风控审批 单据流转


